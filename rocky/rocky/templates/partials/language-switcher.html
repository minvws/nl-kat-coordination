{% load i18n %}

{% get_language_info for LANGUAGE_CODE as lang %}
<div class="dropdown">
    <button type="button"
            aria-controls="language-switcher"
            aria-expanded="false"
            class="dropdown-button ghost">
        {{ lang.name_local|title }}
        <span aria-hidden="true" class="icon ti-chevron-down"></span>
    </button>
    <div id="language-switcher" role="listbox" class="dropdown-list">
        <ul>
            {% for language in languages %}
                {% get_language_info for language as lang %}
                {% if LANGUAGE_CODE != language %}
                    <li>
                        <form action="{% url "set_language" %}" method="post" class="inline">
                            {% csrf_token %}
                            <button type="submit" name="language" value={{ language }}>
                                {{ lang.name_local.title }}
                            </button>
                        </form>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
</div>
