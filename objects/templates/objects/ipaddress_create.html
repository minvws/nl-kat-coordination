{% extends "layouts/base.html" %}

{% load static %}
{% load i18n %}

{% block content %}
    {% include "header.html" %}

    <main id="main-content">
        <section>
            <div class="introduction">
                <h1>{% translate "Add IP Address" %}</h1>
            </div>
            <div>
                <h2>{% translate "Single IP Address" %}</h2>
                <form method="post" class="help">
                    {% csrf_token %}
                    {% include "partials/form/form_errors.html" with form=form %}

                    {{ form }}
                    <button type="submit">{% translate "Add IP Address" %}</button>
                </form>
            </div>
            <hr>
            <div>
                <h2>{% translate "Upload Multiple IP Addresses from CSV" %}</h2>
                <p>
                    {% translate "Upload a CSV file with one column containing IP addresses. You can optionally select a network, otherwise the 'internet' network will be used by default." %}
                </p>
                <div>
                    <h3>{% translate "CSV Format" %}</h3>
                    <ul>
                        <li>{% translate "One column per row with the IP address" %}</li>
                        <li>
                            {% translate "Example:" %} <code>192.168.1.1</code>
                        </li>
                        <li>{% translate "No header row required" %}</li>
                    </ul>
                </div>
                <form method="post"
                      action="{{ csv_upload_url }}"
                      enctype="multipart/form-data">
                    {% csrf_token %}
                    {{ csv_form.as_p }}
                    <button type="submit" class="button">{% translate "Upload CSV" %}</button>
                </form>
            </div>
            {% if perms.openkat.add_hostname %}
                <hr>
                <div>
                    <h2>{% translate "Bulk Add Mixed Assets" %}</h2>
                    <p>
                        {% translate "Need to add both IP addresses and hostnames together? Use the bulk asset creator that auto-detects asset types and supports scan levels per row." %}
                    </p>
                    <a href="{% url 'objects:generic_asset_create' %}" class="button">{% translate "Go to Bulk Asset Creator" %}</a>
                </div>
            {% endif %}
        </section>
    </main>
{% endblock content %}
